apply plugin: 'java-library'

dependencies {
    compile project(":knowledgebase-idl")
    compile group: 'com.typesafe.akka', name: 'akka-stream_2.13', version: '2.5.26'
    compile group: 'com.typesafe.akka', name: 'akka-http_2.13', version: '10.1.10'
    compile group: 'com.typesafe.akka', name: 'akka-stream_2.13', version: '2.6.0-RC2'

    compile 'io.rsocket:rsocket-core'
    compile 'io.rsocket.rpc:rsocket-ipc-core'
    compile 'io.rsocket.rpc:rsocket-rpc-core'
    compile 'io.rsocket:rsocket-transport-netty'
}

jar {
    manifest {
        attributes(
            'Main-Class': 'org.coinen.reactive.pacman.learning.Server'
        )
    }

    from {
        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
}